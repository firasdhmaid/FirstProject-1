{% extends 'base.html.twig' %}

{% block title %}liste!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    {% set nb =0 %}
{% if authors is  empty %}
<p>Aucun auteur n'est disponible pour l'affichage.</p>
{% endif %}
    <h1>nombre d'auteurs = {{authors | length}}</h1>
    <ul>
        {% for author in authors %}
            <a href="{{ path('detail_id', {'id': author.id}) }}">Details</a>
            <li>ID: {{ author.id }}</li> 
            <li><img src="{{ asset(author.picture) }}" alt="{{ author.username }}" width="100"></li>
            <li>Nom d'utilisateur: {{ author.username | upper }}</li>
            <li>Email: {{ author.email }}</li>
            <li>Nombre de Livres: {{ author.nb_books }}</li>
            {%set nb = nb+ author.nb_books%}
        {% endfor %}
    
    <h1>nombre  de livres {{nb}}</h1>
    </ul>  
</div>
{% endblock %}